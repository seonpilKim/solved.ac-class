[1865] 웜홀 (https://www.acmicpc.net/problem/1865)

시간 제한	메모리 제한	제출	정답	맞은 사람	정답 비율
2 초		128 MB		15823	3181	1915		22.735%

문제
----
때는 2020년, 백준이는 월드나라의 한 국민이다. 월드나라에는 N개의 지점이 있고 N개의 지점 사이에는 M개의 도로와 W개의 웜홀이 있다. (단 도로는 방향이 없으며 웜홀은 방향이 있다.) 웜홀은 시작 위치에서 도착 위치로 가는 하나의 경로인데, 특이하게도 도착을 하게 되면 시작을 하였을 때보다 시간이 뒤로 가게 된다. 웜홀 내에서는 시계가 거꾸로 간다고 생각하여도 좋다.

시간 여행을 매우 좋아하는 백준이는 한 가지 궁금증에 빠졌다. 한 지점에서 출발을 하여서 시간여행을 하기 시작하여 다시 출발을 하였던 위치로 돌아왔을 때, 출발을 하였을 때보다 시간이 되돌아가 있는 경우가 있는지 없는지 궁금해졌다. 여러분은 백준이를 도와 이런 일이 가능한지 불가능한지 구하는 프로그램을 작성하여라.

입력
----
첫 번째 줄에는 테스트케이스의 개수 TC(1 ≤ TC ≤ 5)가 주어진다. 그리고 두 번째 줄부터 TC개의 테스트케이스가 차례로 주어지는데 각 테스트케이스의 첫 번째 줄에는 지점의 수 N(1 ≤ N ≤ 500), 도로의 개수 M(1 ≤ M ≤ 2500), 웜홀의 개수 W(1 ≤ W ≤ 200)이 주어진다. 그리고 두 번째 줄부터 M+1번째 줄에 도로의 정보가 주어지는데 각 도로의 정보는 S, E, T 세 정수로 주어진다. S와 E는 연결된 지점의 번호, T는 이 도로를 통해 이동하는데 걸리는 시간을 의미한다. 그리고 M+2번째 줄부터 M+W+1번째 줄까지 웜홀의 정보가 S, E, T 세 정수로 주어지는데 S는 시작 지점, E는 도착 지점, T는 줄어드는 시간을 의미한다. T는 10,000보다 작거나 같은 자연수 또는 0이다.

두 지점을 연결하는 도로가 한 개보다 많을 수도 있다. 지점의 번호는 1부터 N까지 자연수로 중복 없이 매겨져 있다.

출력
----
TC개의 줄에 걸쳐서 만약에 시간이 줄어들면서 출발 위치로 돌아오는 것이 가능하면 YES, 불가능하면 NO를 출력한다.

풀이
----
Negative weight를 포함한 Graph에서 Dijkstra Algorithm은 사용할 수 없으므로, Bellman-Ford Algorithm을 사용하였다.

* Bellman-Ford Algorithm
V-1번의 loop를 돌며 Shortest-Paths의 거리를 갱신하는 구조.
Negative weight를 가진 Edge가 존재할 때, Negative Cycle 존재유무를 확인하고자 할 때 사용.
Negative Cycle 존재유무 확인은 V번 loop를 시도함으로써 가능하다.

이 문제에서는 임의의 시작점이 주어지면, 최단경로를 지나면서 다시 시작점으로 돌아왔을 때 시간이 되돌아가있는지 판단해야 한다.
모든 점을 시작점으로 설정해서 최대 500번 반복하는 것은 시간초과를 유발할 가능성이 있으므로, 
하나의 출발점에서만 최단경로를 계산한 이후, [출발점의 가중치가 음수] 이거나 [음의 사이클이 존재] 하는 경우(다른 출발점에서 최단경로를 계산했을 때 출발점의 가중치가 음수라는 의미) 만 판단하면 된다.

p.s) INF값은 사용하는 자료형에 따라 신중하게 설정해야 한다.
예를들어, int형이면 최소 INT_MAX보다 최대 weight만큼은 작아야한다. 그렇지않으면 overflow되어 원하는 결과를 얻을 수 없다.

p.s) BOJ.1753번 문제의 풀이처럼 인접리스트 방식으로 그래프를 구현하여 시도했지만, 이상하게 계속 WA를 받아서 vector형으로 edge배열을 생성하여 구현해보니 CA를 받았다.
여러번 코드를 수정하면서 WA를 받다가 현타가와서 결국 원인을 찾는 것은 포기함...